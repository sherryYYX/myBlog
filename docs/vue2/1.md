# Vuex  状态管理工具

## 单页面的状态管理
State => View => Actions => State
1. State:相当于data中的属性。
2. View：视图层，针对state的变化，显示不同的信息。
3. Actions：这里的Actions 主要指用户的各种操作：点击、输入等。

## 使用Vuex 多页面状态管理
::: details 初始化
```js
// src/store/index.js
import vuex from 'vuex';
//1.安装插件
Vue.use(vuex)
// 2.创建对象
const store = new Vuex.Store({
    state:{
        counter: 1000
    },
    mutations:{
        // 方法
        increment(state){
            state.counter++
        },
        decrement(state){
            state.counter--
        }
    },
    actions:{

    },
    getters:{

    },
    modules:{

    }
})
// 3.导出store对象
export default store;

// main.js
import store from './store'
new Vue({
    el:'app',
    store,
    render: h => h(App)
})
```
:::

### state 在组件的使用
```vue
<template>
    <span>{{$store.state.counter}}</span>
</template>    
```

### state 里的数据需要修改后展示到组件，在mutation里改
```vue
   mutations:{
        // 方法
        increment(state){
            state.counter++
        },
        decrement(state){
            state.counter--
        }
    },

    // App.vue
<template>
    <button @click="add">+1</button>
</template> 
<script lang="js">
    export default{
        methods:{
            add(){
               this.$store.commit('increment')
            }
        }
    }
</script>
```
在组件中使用store 对象中保存的状态
1. 通过`this.$store.state.属性` 访问状态
2. 通过 `this.$store.commit('mutaion中的方法名')` 修改状态
