# UpLoader 组件 图片上传
```js
import React, { useRef } from "react"
import {useStores} from "../stores"
import {observer} from "mobx-react"

const Component = observer(()=>{
  const {ImageStore} = useStores()
  const ref = useRef() //获取引用

  const bindChange = ()=>{
    console.log(ref.current) //<input type="file">
    window.file = ref.current
   if(ref.current.files.length > 0 ){
      ImageStore.setFile(ref.current.files[0])
      ImageStore.setFileName(ref.current.files[0].name)
      ImageStore.upload()
        .then((serveFile)=>{
          console.log('上传成功')
          console.log(serveFile)
        }).catch(()=>{
        console.log('上传失败')
      })
   }
  }

  return(
    <div>
      <h1>文件上传</h1>
      <input type="file" ref ={ref} onChange={bindChange} />
    </div>
  )
})

export default Component;
```