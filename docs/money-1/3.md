# 配置 svg
第一步：
在终端里输入
`yarn eject`

`yarn add --dev svg-sprite-loader`
第二步：
在webpack.config.js的350行 `oneOf`里加入
```js
{
  test: /\.svg$/,
  use: [
     {
        test: /\.svg$/,
            use: [
                { loader: 'svg-sprite-loader', options: {} },
                { loader: 'svgo-loader', options: {}}
              ]
    },
  ]
}
```
::: details 代码
```tsx
import styled from 'styled-components';
import {Link} from 'react-router-dom';
import React from 'react';

require('../icons/money.svg')
require('../icons/label.svg')
require('../icons/statistics.svg')


const Nav = ()=>{
  return(
    <NavStyle>
      <ul>
        <li>
          <svg>
            <use xlinkHref="#label"></use>
          </svg>
          <Link to="/labels">labels</Link>
        </li>
        <li>
          <svg>
            <use xlinkHref="#money"></use>
          </svg>
          <Link to="/money">money</Link>
        </li>
        <li>
          <svg>
            <use xlinkHref="#statistics"></use>
          </svg>
          <Link to="/statistics">statistics</Link>
        </li>
      </ul>
    </NavStyle>
  )
}

export default Nav;
```
:::

## 抽离 Icon 组件
```tsx
import React from 'react';

require('../icons/money.svg')
require('../icons/label.svg')
require('../icons/statistics.svg')

type Props  = {
  name:String
}

const Icon = (props:Props)=>{
  return(
    <svg>
      <use xlinkHref={"#"+ props.name}></use>
    </svg>
  )
}
export default Icon
```

## 引入所有svg 的配置
在icon 组件加入以下代码，就可以删除`require`

```js
 const importAll = (requireContext: __WebpackModuleApi.RequireContext) =>
    requireContext.keys().forEach(requireContext);
  try {
    importAll(require.context("../assets/icons", true, /\.svg$/));
  } catch (e) {
    console.log(e);
  }
```
但是我们用的是ts，所以还需要加配置
```js
 yarn add --dev @types/webpack-env

```
## 问题
Cannot find module '@babel/helper-create-regexp-features-plugin'

你应该敏锐的观察到这是因为「Cannot find module——找不到模块」，那么你只需要运行 `yarn add @babel/helper-create-regexp-features-plugin` 安装这个模块即可。

当然你也可以使用万能的排错语句：

```js
rm -rf node_modules
yarn install
```